<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-49925874-3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-49925874-3');
  </script>

  <meta charset='utf-8'>
  <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Git - git-repack Documentation</title>

  <link href='../../favicon.ico' rel='shortcut icon' type='image/x-icon'>

  <link rel="stylesheet" media="screen" href="../../assets/application-42b7b91ccf5cb92469695cf08b5da9e9230594f634cb88264f305d5bd54e477f.css" />
  <script src="../../assets/modernize-b3ebe0c31c24f230dc62179d3e1030d2e57a53b1668d9382c0a27dbd44a94beb.js"></script>
  <!--[if (gte IE 6)&(lte IE 8)]>
  <script src="/javascripts/selectivizr-min.js"></script>
  <![endif]-->

</head>

<body id="documentation">

  <div class="inner">
    <header>

  <a href="https://git-scm.com/"><img src="../../images/logo@2x.png" width="110" height="46" alt="Git" /></a>
  <span id="tagline"></span>
  <script type="text/javascript">
    var taglines = ["fast-version-control","everything-is-local","distributed-even-if-your-workflow-isnt","local-branching-on-the-cheap","distributed-is-the-new-centralized"];
    var tagline = taglines[Math.floor(Math.random() * taglines.length)];
    document.getElementById('tagline').innerHTML = '--' + tagline;
  </script>
  <form id="search" action="https://git-scm.com/search/results">
    <input id="search-text" name="search" placeholder="Search entire site..." autocomplete="off" type="text" />
  </form>
  <div id="search-results"></div>

</header>

  </div> <!-- .inner -->

    <div class="inner">
      <div id="content-wrapper">
        <button class="sidebar-btn"></button>
<aside class="sidebar" id="sidebar">
  <nav>
    <ul>
      <li>
        <a href="https://git-scm.com/about">About</a>
        <ul class="">
          <li>
            <a href="https://git-scm.com/about">Branching and Merging</a>
          </li>
          <li>
            <a href="https://git-scm.com/about/small-and-fast">Small and Fast</a>
          </li>
          <li>
            <a href="https://git-scm.com/about/distributed">Distributed</a>
          </li>
          <li>
            <a href="https://git-scm.com/about/info-assurance">Data Assurance</a>
          </li>
          <li>
            <a href="https://git-scm.com/about/staging-area">Staging Area</a>
          </li>
          <li>
            <a href="https://git-scm.com/about/free-and-open-source">Free and Open Source</a>
          </li>
          <li>
            <a href="https://git-scm.com/about/trademark">Trademark</a>
          </li>
        </ul>
      </li>
      <li>
        <a class="active" href="https://git-scm.com/doc">Documentation</a>
        <ul class="expanded">
          <li>
            <a class="active" href="../git-pack/pt_BR.html">Reference</a>
          </li>
          <li>
            <a href="https://git-scm.com/book">Book</a>
          </li>
          <li>
            <a href="https://git-scm.com/videos">Videos</a>
          </li>
          <li>
            <a href="https://git-scm.com/doc/ext">External Links</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="https://git-scm.com/downloads">Downloads</a>
        <ul class="">
          <li>
            <a href="https://git-scm.com/downloads/guis">GUI Clients</a>
          </li>
          <li>
            <a href="https://git-scm.com/downloads/logos">Logos</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="https://git-scm.com/community">Community</a>
      </li>
    </ul>
  </nav>
</aside>

        <div id="content">
          
  <div id='reference-version'>
    <a class="dropdown-trigger" id="reference-languages-trigger" data-panel-id="l10n-versions-dropdown" href="2.34.0.html#">
  English ▾</a>
<div class='dropdown-panel right' id='l10n-versions-dropdown'>
  <header>Localized versions of <strong>git-repack</strong> manual</header>
  <ol class='reference-previous-versions'>
      <li>
        <a href="en.html"><span class="version">English</span>
        </a>
        </li>
      <li>
        <a href="pt_BR.html"><span class="version">Português (Brasil)</span>
        </a>
        </li>
  </ol>
  <footer>
    Want to read in your language or fix typos?<br/> <a href="https://github.com/jnavila/git-manpages-l10n">You can help translate this page</a>.
  </footer>
</div>

    <a class="dropdown-trigger" id="reference-topics-trigger" data-panel-id="topics-dropdown" href="2.34.0.html#">Topics ▾</a>
<div class='dropdown-panel right' id='topics-dropdown'>
  <div class='three-column'>
    <div class='column-left'>
      <h3 class='setup'>Setup and Config</h3>
<ul class='unstyled'>
  <li><a href="../git/ru.html">git</a></li>
  <li><a href="../git-config/ru.html">config</a></li>
  <li><a href="../git-help/ru.html">help</a></li>
  <li><a href="../git-bugreport/ru.html">bugreport</a></li>
</ul>

      <h3 class='projects'>Getting and Creating Projects</h3>
<ul class='unstyled'>
  <li><a href="../git-init/ru.html">init</a></li>
  <li><a href="../git-clone/ru.html">clone</a></li>
</ul>

      <h3 class='snapshotting'>Basic Snapshotting</h3>
<ul class='unstyled'>
  <li><a href="../git-add/ru.html">add</a></li>
  <li><a href="../git-status/ru.html">status</a></li>
  <li><a href="../git-diff/ru.html">diff</a></li>
  <li><a href="../git-commit/ru.html">commit</a></li>
  <li><a href="../git-notes/ru.html">notes</a></li>
  <li><a href="../git-restore/ru.html">restore</a></li>
  <li><a href="../git-reset/ru.html">reset</a></li>
  <li><a href="../git-rm/ru.html">rm</a></li>
  <li><a href="../git-mv/ru.html">mv</a></li>
</ul>

      <h3 class='branching'>Branching and Merging</h3>
<ul class='unstyled'>
  <li><a href="../git-branch/ru.html">branch</a></li>
  <li><a href="../git-checkout/ru.html">checkout</a></li>
  <li><a href="../git-switch/ru.html">switch</a></li>
  <li><a href="../git-merge/ru.html">merge</a></li>
  <li><a href="../git-mergetool/ru.html">mergetool</a></li>
  <li><a href="../git-log/ru.html">log</a></li>
  <li><a href="../git-stash/ru.html">stash</a></li>
  <li><a href="../git-tag/ru.html">tag</a></li>
  <li><a href="../git-worktree/ru.html">worktree</a></li>
</ul>

      <h3 class='sharing'>Sharing and Updating Projects</h3>
<ul class='unstyled'>
  <li><a href="../git-fetch/ru.html">fetch</a></li>
  <li><a href="../git-pull/ru.html">pull</a></li>
  <li><a href="../git-push/ru.html">push</a></li>
  <li><a href="../git-remote/ru.html">remote</a></li>
  <li><a href="../git-submodule/ru.html">submodule</a></li>
</ul>

    </div>
    <div class='column-middle'>
      <h3 class='inspection'>Inspection and Comparison</h3>
<ul class='unstyled'>
  <li><a href="../git-show/ru.html">show</a></li>
  <li><a href="../git-log/ru.html">log</a></li>
  <li><a href="../git-diff/ru.html">diff</a></li>
  <li><a href="../git-difftool/ru.html">difftool</a></li>
  <li><a href="../git-range-diff/ru.html">range-diff</a></li>
  <li><a href="../git-shortlog/ru.html">shortlog</a></li>
  <li><a href="../git-describe/ru.html">describe</a></li>
</ul>

      <h3 class='patching'>Patching</h3>
<ul class='unstyled'>
  <li><a href="../git-apply/ru.html">apply</a></li>
  <li><a href="../git-cherry-pick/ru.html">cherry-pick</a></li>
  <li><a href="../git-diff/ru.html">diff</a></li>
  <li><a href="../git-rebase/ru.html">rebase</a></li>
  <li><a href="../git-revert/ru.html">revert</a></li>
</ul>

      <h3 class='debugging'>Debugging</h3>
<ul class='unstyled'>
  <li><a href="../git-bisect/ru.html">bisect</a></li>
  <li><a href="../git-blame/ru.html">blame</a></li>
  <li><a href="../git-grep/ru.html">grep</a></li>
</ul>

      <h3 class='email'>Email</h3>
<ul class='unstyled'>
  <li><a href="../git-am/ru.html">am</a></li>
  <li><a href="../git-apply/ru.html">apply</a></li>
  <li><a href="../git-format-patch/ru.html">format-patch</a></li>
  <li><a href="../git-send-email/ru.html">send-email</a></li>
  <li><a href="../git-request-pull/ru.html">request-pull</a></li>
</ul>

      <h3 class='external'>External Systems</h3>
<ul class='unstyled'>
  <li><a href="../git-svn/ru.html">svn</a></li>
  <li><a href="../git-fast-import/ru.html">fast-import</a></li>
</ul>

      <h3 class='server-admin'>Server Admin</h3>
<ul class='unstyled'>
  <li><a href="../git-daemon/ru.html">daemon</a></li>
  <li><a href="../git-update-server-info/ru.html">update-server-info</a></li>
</ul>

    </div>
    <div class='column-right'>
      <h3 class='guides'>Guides</h3>
<ul class='unstyled'>
  <li><a href="../gitattributes/ru.html">gitattributes</a></li>
  <li><a href="../gitcli/ru.html">Command-line interface conventions</a></li>
  <li><a href="../giteveryday/ru.html">Everyday Git</a></li>
  <li><a href="../gitfaq/ru.html">Frequently Asked Questions (FAQ)</a></li>
  <li><a href="../gitglossary/zh_HANT.html">Glossary</a></li>
  <li><a href="../githooks/ru.html">Hooks</a></li>
  <li><a href="../gitignore/ru.html">gitignore</a></li>
  <li><a href="../gitmodules/ru.html">gitmodules</a></li>
  <li><a href="../gitrevisions/ru.html">Revisions</a></li>
  <li><a href="../gitsubmodules/ru.html">Submodules</a></li>
  <li><a href="../gittutorial/ru.html">Tutorial</a></li>
  <li><a href="../gitworkflows/ru.html">Workflows</a></li>
  <li><a href="../git/ru.html#_guides">All guides...</a></li>
</ul>

      <h3 class='admin'>Administration</h3>
<ul class='unstyled'>
  <li><a href="../git-clean/ru.html">clean</a></li>
  <li><a href="../git-gc/ru.html">gc</a></li>
  <li><a href="../git-fsck/ru.html">fsck</a></li>
  <li><a href="../git-reflog/ru.html">reflog</a></li>
  <li><a href="../git-filter-branch/ru.html">filter-branch</a></li>
  <li><a href="../git-instaweb/ru.html">instaweb</a></li>
  <li><a href="../git-archive/ru.html">archive</a></li>
  <li><a href="../git-bundle/ru.html">bundle</a></li>
</ul>

      <h3 class='plumbing'>Plumbing Commands</h3>
<ul class='unstyled'>
  <li><a href="../git-cat-file/ru.html">cat-file</a></li>
  <li><a href="../git-check-ignore/ru.html">check-ignore</a></li>
  <li><a href="../git-checkout-index/ru.html">checkout-index</a></li>
  <li><a href="../git-commit-tree/ru.html">commit-tree</a></li>
  <li><a href="../git-count-objects/ru.html">count-objects</a></li>
  <li><a href="../git-diff-index/ru.html">diff-index</a></li>
  <li><a href="../git-for-each-ref/ru.html">for-each-ref</a></li>
  <li><a href="../git-hash-object/ru.html">hash-object</a></li>
  <li><a href="../git-ls-files/ru.html">ls-files</a></li>
  <li><a href="../git-ls-tree/ru.html">ls-tree</a></li>
  <li><a href="../git-merge-base/ru.html">merge-base</a></li>
  <li><a href="../git-read-tree/ru.html">read-tree</a></li>
  <li><a href="../rev-list.html">rev-list</a></li>
  <li><a href="../git-rev-parse/ru.html">rev-parse</a></li>
  <li><a href="../git-show-ref/ru.html">show-ref</a></li>
  <li><a href="../git-symbolic-ref/ru.html">symbolic-ref</a></li>
  <li><a href="../git-update-index/ru.html">update-index</a></li>
  <li><a href="../git-update-ref/ru.html">update-ref</a></li>
  <li><a href="../git-verify-pack/ru.html">verify-pack</a></li>
  <li><a href="../git-write-tree/ru.html">write-tree</a></li>
</ul>

    </div>
  </div>
</div>

    <a class="dropdown-trigger" id="reference-versions-trigger" data-panel-id="previous-versions-dropdown" href="2.34.0.html#">
    Version 2.34.1
 ▾ </a>
<span class="light d-flex">git-repack last updated in 2.34.1</span>
<div class='dropdown-panel left' id='previous-versions-dropdown'>
  <header>Changes in the <strong>git-repack</strong> manual</header>
  <ol class='reference-previous-versions'>
        <li class="no-change"><span>2.34.1 no changes</span></li>
        <li>
        <a href="2.34.0.html"><span class="version">2.34.0</span>
          <span class="diff">
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/red-dot.png" />
              <img src="../../images/icons/red-dot.png" />
          </span>
          <em class="date">11/15/21</em>
        </a>
        </li>
        <li class="no-change"><span>2.33.1 no changes</span></li>
        <li>
        <a href="2.33.0.html"><span class="version">2.33.0</span>
          <span class="diff">
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/red-dot.png" />
              <img src="../../images/icons/grey-dot.png" />
              <img src="../../images/icons/grey-dot.png" />
              <img src="../../images/icons/grey-dot.png" />
              <img src="../../images/icons/grey-dot.png" />
          </span>
          <em class="date">08/16/21</em>
        </a>
        </li>
        <li>
        <a href="2.32.0.html"><span class="version">2.32.0</span>
          <span class="diff">
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
          </span>
          <em class="date">06/06/21</em>
        </a>
        </li>
        <li class="no-change"><span>2.31.1 no changes</span></li>
        <li>
        <a href="2.31.0.html"><span class="version">2.31.0</span>
          <span class="diff">
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/red-dot.png" />
          </span>
          <em class="date">03/15/21</em>
        </a>
        </li>
        <li class="no-change"><span>2.23.1 &rarr; 2.30.2 no changes</span></li>
        <li>
        <a href="2.23.0.html"><span class="version">2.23.0</span>
          <span class="diff">
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/red-dot.png" />
              <img src="../../images/icons/grey-dot.png" />
              <img src="../../images/icons/grey-dot.png" />
              <img src="../../images/icons/grey-dot.png" />
              <img src="../../images/icons/grey-dot.png" />
              <img src="../../images/icons/grey-dot.png" />
              <img src="../../images/icons/grey-dot.png" />
          </span>
          <em class="date">08/16/19</em>
        </a>
        </li>
        <li class="no-change"><span>2.20.1 &rarr; 2.22.5 no changes</span></li>
        <li>
        <a href="2.20.0.html"><span class="version">2.20.0</span>
          <span class="diff">
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/grey-dot.png" />
              <img src="../../images/icons/grey-dot.png" />
              <img src="../../images/icons/grey-dot.png" />
          </span>
          <em class="date">12/09/18</em>
        </a>
        </li>
        <li class="no-change"><span>2.19.1 &rarr; 2.19.6 no changes</span></li>
        <li>
        <a href="2.19.0.html"><span class="version">2.19.0</span>
          <span class="diff">
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/grey-dot.png" />
              <img src="../../images/icons/grey-dot.png" />
              <img src="../../images/icons/grey-dot.png" />
          </span>
          <em class="date">09/10/18</em>
        </a>
        </li>
        <li class="no-change"><span>2.18.1 &rarr; 2.18.5 no changes</span></li>
        <li>
        <a href="2.18.0.html"><span class="version">2.18.0</span>
          <span class="diff">
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/red-dot.png" />
          </span>
          <em class="date">06/21/18</em>
        </a>
        </li>
        <li class="no-change"><span>2.15.4 &rarr; 2.17.6 no changes</span></li>
        <li>
        <a href="2.14.6.html"><span class="version">2.14.6</span>
          <span class="diff">
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/red-dot.png" />
              <img src="../../images/icons/grey-dot.png" />
              <img src="../../images/icons/grey-dot.png" />
              <img src="../../images/icons/grey-dot.png" />
          </span>
          <em class="date">12/06/19</em>
        </a>
        </li>
        <li class="no-change"><span>2.11.4 &rarr; 2.13.7 no changes</span></li>
        <li>
        <a href="2.10.5.html"><span class="version">2.10.5</span>
          <span class="diff">
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
          </span>
          <em class="date">09/22/17</em>
        </a>
        </li>
        <li>
        <a href="2.9.5.html"><span class="version">2.9.5</span>
          <span class="diff">
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/red-dot.png" />
              <img src="../../images/icons/red-dot.png" />
              <img src="../../images/icons/red-dot.png" />
          </span>
          <em class="date">07/30/17</em>
        </a>
        </li>
        <li>
        <a href="2.8.6.html"><span class="version">2.8.6</span>
          <span class="diff">
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/red-dot.png" />
              <img src="../../images/icons/red-dot.png" />
              <img src="../../images/icons/red-dot.png" />
          </span>
          <em class="date">07/30/17</em>
        </a>
        </li>
        <li class="no-change"><span>2.5.6 &rarr; 2.7.6 no changes</span></li>
        <li>
        <a href="2.4.12.html"><span class="version">2.4.12</span>
          <span class="diff">
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/green-dot.png" />
              <img src="../../images/icons/red-dot.png" />
              <img src="../../images/icons/red-dot.png" />
              <img src="../../images/icons/grey-dot.png" />
              <img src="../../images/icons/grey-dot.png" />
              <img src="../../images/icons/grey-dot.png" />
              <img src="../../images/icons/grey-dot.png" />
          </span>
          <em class="date">05/05/17</em>
        </a>
        </li>
    <li>&nbsp;</li>
    <!-- <li><a class="more" href="#">See more previous releases →</a></li> -->
  </ol>
  <footer>
    <p>Check your version of git by running</p>
    <code class="command">git --version</code>
  </footer>
</div>

  </div>

  <div id='main'>
    <div class="sect1">
<h2 id="_name"><a class="anchor" href="2.34.0.html#_name"></a>NAME</h2>
<div class="sectionbody">
<div class="paragraph">
<p>git-repack - Pack unpacked objects in a repository</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_synopsis"><a class="anchor" href="2.34.0.html#_synopsis"></a>SYNOPSIS</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>git repack</em> [-a] [-A] [-d] [-f] [-F] [-l] [-n] [-q] [-b] [-m] [--window=&lt;n&gt;] [--depth=&lt;n&gt;] [--threads=&lt;n&gt;] [--keep-pack=&lt;pack-name&gt;] [--write-midx]</pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_description"><a class="anchor" href="2.34.0.html#_description"></a>DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This command is used to combine all objects that do not currently
reside in a "pack", into a pack.  It can also be used to re-organize
existing packs into a single, more efficient pack.</p>
</div>
<div class="paragraph">
<p>A pack is a collection of objects, individually compressed, with
delta compression applied, stored in a single file, with an
associated index file.</p>
</div>
<div class="paragraph">
<p>Packs are used to reduce the load on mirror systems, backup
engines, disk storage, etc.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_options"><a class="anchor" href="2.34.0.html#_options"></a>OPTIONS</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1" id="Documentation/git-repack.txt--a"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt--a"></a>-a </dt>
<dd>
<p>Instead of incrementally packing the unpacked objects,
pack everything referenced into a single pack.
Especially useful when packing a repository that is used
for private development. Use
with <code>-d</code>.  This will clean up the objects that <code>git prune</code>
leaves behind, but <code>git fsck --full --dangling</code> shows as
dangling.</p>
<div class="paragraph">
<p>Note that users fetching over dumb protocols will have to fetch the
whole new pack in order to get any contained object, no matter how many
other objects in that pack they already have locally.</p>
</div>
<div class="paragraph">
<p>Promisor packfiles are repacked separately: if there are packfiles that
have an associated ".promisor" file, these packfiles will be repacked
into another separate pack, and an empty ".promisor" file corresponding
to the new separate pack will be written.</p>
</div>
</dd>
<dt class="hdlist1" id="Documentation/git-repack.txt--A"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt--A"></a>-A </dt>
<dd>
<p>Same as <code>-a</code>, unless <code>-d</code> is used.  Then any unreachable
objects in a previous pack become loose, unpacked objects,
instead of being left in the old pack.  Unreachable objects
are never intentionally added to a pack, even when repacking.
This option prevents unreachable objects from being immediately
deleted by way of being left in the old pack and then
removed.  Instead, the loose unreachable objects
will be pruned according to normal expiry rules
with the next <em>git gc</em> invocation. See <a href='../git-gc/ru.html'>git-gc[1]</a>.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-repack.txt--d"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt--d"></a>-d </dt>
<dd>
<p>After packing, if the newly created packs make some
existing packs redundant, remove the redundant packs.
Also run  <em>git prune-packed</em> to remove redundant
loose object files.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-repack.txt--l"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt--l"></a>-l </dt>
<dd>
<p>Pass the <code>--local</code> option to <em>git pack-objects</em>. See
<a href='../git-pack-objects/fr.html'>git-pack-objects[1]</a>.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-repack.txt--f"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt--f"></a>-f </dt>
<dd>
<p>Pass the <code>--no-reuse-delta</code> option to <code>git-pack-objects</code>, see
<a href='../git-pack-objects/fr.html'>git-pack-objects[1]</a>.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-repack.txt--F"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt--F"></a>-F </dt>
<dd>
<p>Pass the <code>--no-reuse-object</code> option to <code>git-pack-objects</code>, see
<a href='../git-pack-objects/fr.html'>git-pack-objects[1]</a>.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-repack.txt--q"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt--q"></a>-q </dt>
<dd>
<p>Pass the <code>-q</code> option to <em>git pack-objects</em>. See
<a href='../git-pack-objects/fr.html'>git-pack-objects[1]</a>.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-repack.txt--n"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt--n"></a>-n </dt>
<dd>
<p>Do not update the server information with
<em>git update-server-info</em>.  This option skips
updating local catalog files needed to publish
this repository (or a direct copy of it)
over HTTP or FTP.  See <a href='../git-update-server-info/ru.html'>git-update-server-info[1]</a>.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-repack.txt---windowltngt"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt---windowltngt"></a>--window=&lt;n&gt; </dt>
<dt class="hdlist1" id="Documentation/git-repack.txt---depthltngt"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt---depthltngt"></a>--depth=&lt;n&gt; </dt>
<dd>
<p>These two options affect how the objects contained in the pack are
stored using delta compression. The objects are first internally
sorted by type, size and optionally names and compared against the
other objects within <code>--window</code> to see if using delta compression saves
space. <code>--depth</code> limits the maximum delta depth; making it too deep
affects the performance on the unpacker side, because delta data needs
to be applied that many times to get to the necessary object.</p>
<div class="paragraph">
<p>The default value for --window is 10 and --depth is 50. The maximum
depth is 4095.</p>
</div>
</dd>
<dt class="hdlist1" id="Documentation/git-repack.txt---threadsltngt"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt---threadsltngt"></a>--threads=&lt;n&gt; </dt>
<dd>
<p>This option is passed through to <code>git pack-objects</code>.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-repack.txt---window-memoryltngt"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt---window-memoryltngt"></a>--window-memory=&lt;n&gt; </dt>
<dd>
<p>This option provides an additional limit on top of <code>--window</code>;
the window size will dynamically scale down so as to not take
up more than <em>&lt;n&gt;</em> bytes in memory.  This is useful in
repositories with a mix of large and small objects to not run
out of memory with a large window, but still be able to take
advantage of the large window for the smaller objects.  The
size can be suffixed with "k", "m", or "g".
<code>--window-memory=0</code> makes memory usage unlimited.  The default
is taken from the <code>pack.windowMemory</code> configuration variable.
Note that the actual memory usage will be the limit multiplied
by the number of threads used by <a href='../git-pack-objects/fr.html'>git-pack-objects[1]</a>.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-repack.txt---max-pack-sizeltngt"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt---max-pack-sizeltngt"></a>--max-pack-size=&lt;n&gt; </dt>
<dd>
<p>Maximum size of each output pack file. The size can be suffixed with
"k", "m", or "g". The minimum size allowed is limited to 1 MiB.
If specified, multiple packfiles may be created, which also
prevents the creation of a bitmap index.
The default is unlimited, unless the config variable
<code>pack.packSizeLimit</code> is set. Note that this option may result in
a larger and slower repository; see the discussion in
<code>pack.packSizeLimit</code>.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-repack.txt--b"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt--b"></a>-b </dt>
<dt class="hdlist1" id="Documentation/git-repack.txt---write-bitmap-index"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt---write-bitmap-index"></a>--write-bitmap-index </dt>
<dd>
<p>Write a reachability bitmap index as part of the repack. This
only makes sense when used with <code>-a</code>, <code>-A</code> or <code>-m</code>, as the bitmaps
must be able to refer to all reachable objects. This option
overrides the setting of <code>repack.writeBitmaps</code>. This option
has no effect if multiple packfiles are created, unless writing a
MIDX (in which case a multi-pack bitmap is created).</p>
</dd>
<dt class="hdlist1" id="Documentation/git-repack.txt---pack-kept-objects"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt---pack-kept-objects"></a>--pack-kept-objects </dt>
<dd>
<p>Include objects in <code>.keep</code> files when repacking.  Note that we
still do not delete <code>.keep</code> packs after <code>pack-objects</code> finishes.
This means that we may duplicate objects, but this makes the
option safe to use when there are concurrent pushes or fetches.
This option is generally only useful if you are writing bitmaps
with <code>-b</code> or <code>repack.writeBitmaps</code>, as it ensures that the
bitmapped packfile has the necessary objects.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-repack.txt---keep-packltpack-namegt"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt---keep-packltpack-namegt"></a>--keep-pack=&lt;pack-name&gt; </dt>
<dd>
<p>Exclude the given pack from repacking. This is the equivalent
of having <code>.keep</code> file on the pack. <code>&lt;pack-name&gt;</code> is the
pack file name without leading directory (e.g. <code>pack-123.pack</code>).
The option could be specified multiple times to keep multiple
packs.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-repack.txt---unpack-unreachableltwhengt"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt---unpack-unreachableltwhengt"></a>--unpack-unreachable=&lt;when&gt; </dt>
<dd>
<p>When loosening unreachable objects, do not bother loosening any
objects older than <code>&lt;when&gt;</code>. This can be used to optimize out
the write of any objects that would be immediately pruned by
a follow-up <code>git prune</code>.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-repack.txt--k"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt--k"></a>-k </dt>
<dt class="hdlist1" id="Documentation/git-repack.txt---keep-unreachable"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt---keep-unreachable"></a>--keep-unreachable </dt>
<dd>
<p>When used with <code>-ad</code>, any unreachable objects from existing
packs will be appended to the end of the packfile instead of
being removed. In addition, any unreachable loose objects will
be packed (and their loose counterparts removed).</p>
</dd>
<dt class="hdlist1" id="Documentation/git-repack.txt--i"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt--i"></a>-i </dt>
<dt class="hdlist1" id="Documentation/git-repack.txt---delta-islands"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt---delta-islands"></a>--delta-islands </dt>
<dd>
<p>Pass the <code>--delta-islands</code> option to <code>git-pack-objects</code>, see
<a href='../git-pack-objects/fr.html'>git-pack-objects[1]</a>.</p>
</dd>
<dt class="hdlist1" id="Documentation/git-repack.txt--gltfactorgt"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt--gltfactorgt"></a>-g=&lt;factor&gt; </dt>
<dt class="hdlist1" id="Documentation/git-repack.txt---geometricltfactorgt"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt---geometricltfactorgt"></a>--geometric=&lt;factor&gt; </dt>
<dd>
<p>Arrange resulting pack structure so that each successive pack
contains at least <code>&lt;factor&gt;</code> times the number of objects as the
next-largest pack.</p>
<div class="paragraph">
<p><code>git repack</code> ensures this by determining a "cut" of packfiles that need
to be repacked into one in order to ensure a geometric progression. It
picks the smallest set of packfiles such that as many of the larger
packfiles (by count of objects contained in that pack) may be left
intact.</p>
</div>
<div class="paragraph">
<p>Unlike other repack modes, the set of objects to pack is determined
uniquely by the set of packs being "rolled-up"; in other words, the
packs determined to need to be combined in order to restore a geometric
progression.</p>
</div>
<div class="paragraph">
<p>When <code>--unpacked</code> is specified, loose objects are implicitly included in
this "roll-up", without respect to their reachability. This is subject
to change in the future. This option (implying a drastically different
repack mode) is not guaranteed to work with all other combinations of
option to <code>git repack</code>.</p>
</div>
<div class="paragraph">
<p>When writing a multi-pack bitmap, <code>git repack</code> selects the largest resulting
pack as the preferred pack for object selection by the MIDX (see
<a href='../git-multi-pack-index/de.html'>git-multi-pack-index[1]</a>).</p>
</div>
</dd>
<dt class="hdlist1" id="Documentation/git-repack.txt--m"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt--m"></a>-m </dt>
<dt class="hdlist1" id="Documentation/git-repack.txt---write-midx"> <a class="anchor" href="2.34.0.html#Documentation/git-repack.txt---write-midx"></a>--write-midx </dt>
<dd>
<p>Write a multi-pack index (see <a href='../git-multi-pack-index/de.html'>git-multi-pack-index[1]</a>)
containing the non-redundant packs.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration"><a class="anchor" href="2.34.0.html#_configuration"></a>CONFIGURATION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Various configuration variables affect packing, see
<a href='../git-config/ru.html'>git-config[1]</a> (search for "pack" and "delta").</p>
</div>
<div class="paragraph">
<p>By default, the command passes <code>--delta-base-offset</code> option to
<em>git pack-objects</em>; this typically results in slightly smaller packs,
but the generated packs are incompatible with versions of Git older than
version 1.4.4. If you need to share your repository with such ancient Git
versions, either directly or via the dumb http protocol, then you
need to set the configuration variable <code>repack.UseDeltaBaseOffset</code> to
"false" and repack. Access from old Git versions over the native protocol
is unaffected by this option as the conversion is performed on the fly
as needed in that case.</p>
</div>
<div class="paragraph">
<p>Delta compression is not used on objects larger than the
<code>core.bigFileThreshold</code> configuration variable and on files with the
attribute <code>delta</code> set to false.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also"><a class="anchor" href="2.34.0.html#_see_also"></a>SEE ALSO</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href='../git-pack-objects/fr.html'>git-pack-objects[1]</a>
<a href='../git-prune-packed/de.html'>git-prune-packed[1]</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git"><a class="anchor" href="2.34.0.html#_git"></a>GIT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Part of the <a href='../git/ru.html'>git[1]</a> suite</p>
</div>
</div>
</div>
  </div>

        </div>
      </div>
      <footer>
  <div class="site-source">
    <a href="https://git-scm.com/site">About this site</a><br>
    Patches, suggestions, and comments are welcome.
  </div>
  <div class="sfc-member">
    Git is a member of <a href="https://git-scm.com/sfc">Software Freedom Conservancy</a>
  </div>
</footer>
<a href="2.34.0.html#top" class="no-js scrollToTop" id="scrollToTop" data-label="Scroll to top">
  <img src="../../images/icons/chevron-up@2x.png" width="20" height="20" alt="scroll-to-top"/>
</a>
<script src="../../assets/application-e12a0e837db60213b777cd7a706e0741beed474d7e5b94a641979fc87ce0d2cc.js"></script>

    </div>

</body>
</html>
